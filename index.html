<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mapa Interactivo - Defensa Civil Yerba Buena</title>

  <!-- Estilos de Leaflet y Font Awesome -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Tu hoja de estilos personalizada -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- Barra superior -->
  <header id="top-bar">
    <h2>
      <img src="a41eb642-d670-466b-b8e3-6817f44ae436.png" alt="Logo Defensa Civil">
      <span>Mapa Interactivo YB</span>
    </h2>
    <div class="user-controls">
      <span id="user-info"></span>
      <button id="loginBtn">Iniciar Sesión</button>
      <button id="logoutBtn" style="display:none;">Cerrar Sesión</button>
    </div>
  </header>

  <!-- Contenedor Principal -->
  <main id="main-container">
    <div id="map-container">
      <div id="map"></div>
    </div>

    <!-- Panel lateral (Leyenda y Controles) -->
    <aside id="legend-panel">
      <button id="addMarkerBtn" disabled>
        <i class="fa-solid fa-plus"></i> Agregar Marcador
      </button>
      <button id="editModeBtn" disabled>
        <i class="fa-solid fa-pen"></i> Editar
      </button>
      <hr>
      <div class="legend-section">
        <div class="legend-title">Plan de Evacuación</div>
        <div class="legend-item"><div class="legend-icon" style="background: #007bff;"></div>Tiene</div>
        <div class="legend-item"><div class="legend-icon" style="background: #dc3545;"></div>No tiene</div>
        <div class="legend-item"><div class="legend-icon" style="background: #28a745;"></div>A verificar</div>
        <div class="legend-item"><div class="legend-icon" style="background: #ffc107;"></div>Falta solicitar</div>
      </div>
      <hr>
      <div class="legend-section">
        <div class="legend-title">Tipos de Lugar</div>
        <div class="legend-item"><i class="fa-solid fa-graduation-cap legend-fa-icon"></i> Escuela</div>
        <div class="legend-item"><i class="fa-solid fa-cake-candles legend-fa-icon"></i> Salón de Fiestas</div>
        <div class="legend-item"><i class="fa-solid fa-child-reaching legend-fa-icon"></i> Salón Infantil</div>
      </div>
      <button id="undoBtn" style="display: none;">
        <i class="fa-solid fa-rotate-left"></i> Deshacer Borrado
      </button>
    </aside>
  </main>

  <!-- Contenedor para notificaciones -->
  <div id="notification-container"></div>

  <!-- Scripts -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
  <script src="main.js"></script>

</body>
</html>
